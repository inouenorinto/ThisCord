<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./spcss/reset.css">
    <link rel="stylesheet" href="./spcss/spPage.css">
    <link rel="stylesheet" href="./spcss/channelList.css">
    <link rel="stylesheet" href="./spcss/serverList.css">
    <link rel="stylesheet" href="./spcss/chatFIeld.css">
    <link rel="stylesheet" href="./spcss/memberList.css">
    <!-- icon -->
    <script src="https://kit.fontawesome.com/c82cac4dcf.js" crossorigin="anonymous"></script>
    <title>Thiscord</title>
</head>

<body class="content">
    <div class="mainHeader"></div>
    <div class="mainContainer container">
        <div class="serverList">
            <div id="room-list"></div>

            <div class="server-list-item">
				<a class="plus_button" data-bs-toggle="modal"
					data-bs-target="#createServerModal"> <i
					class="fa-solid fa-plus fa-xl"></i>
				</a>
			</div>
        </div>
        <div class="channelList">

            <div class="channel-title-nav" style="color: #fff; padding: 0px 15px;">
                <h3>
                    <div id="server"></div>
                </h3>
            </div>
            <div id="channelsWrapper" class="channelsWrapper">
                <div class="channel-title-nav">
                    <div class="flexbox">
                        <div class="flex-item title-item">
                            <i class="fa-solid fa-angle-down fa-xs"></i> <span class="channel-title">テキストチャンネル</span>
                        </div>
                        <div class="flex-item">
                            <a href="/ThisCord/createChannel.jsp" class="invitation-link">
                                <i class="fa-solid fa-plus fa-sm"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <div id="channels-list"></div>

                <div class="channel-title-nav">
                    <div class="flexbox">
                        <div class="flex-item title-item">
                            <i class="fa-solid fa-angle-down fa-xs"></i> <span class="channel-title">ボイスチャンネル</span>
                        </div>
                        <div class="flex-item">
                            <a id="videotest" href="/ThisCord/createChannel.jsp" class="invitation-link"> <i
                                    class="fa-solid fa-plus fa-sm"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div id="voice-channels-list"></div>
            </div>
        </div>
        <div class="chatField">
            <div class="fieldWrapper">
                <div class="chatHeader">
                    <div class="hashtag">#</div>
                    <div id="channel" style="margin-left: 20px;"></div>
                </div>

                <div id="chat-scroll" class="chat-scroll">
                    <div id="message-container" id="message-container"></div>
                </div>
            </div>
            <div id="inputField" class="message-form-wrapper">
                <div id="chat" class="message_div">
                    <i class="fa-solid fa-hashtag" style="color: #fff; font-size: 16px;"></i>
                    <input type="text" id="message-input" class="message_input" placeholder="メッセージを送信">
                </div>
                <button class="send-button" onclick="sendMessage()" id="send-button">
                    <i class="fa-solid fa-paper-plane" style="color: #fff;"></i>
                </button>
            </div>
        </div>

        <div class="memberList" id="members-list">
            <div id="members-lists"></div>
        </div>

    </div>
    <div class="footer open-footer" id="footer">
        <div class="footerItem" class="link-content">
            <a href="#" onclick="toggleChatField();">
                <i class="fa-solid fa-server"></i>
                <p style="font-size: 0.7rem; margin: 0px; font-weight: 700;">チャンネル</p>
            </a>

        </div>
        <div class="footerItem">
            <a href="#">
                <i class="fa-solid fa-comment"></i>
                <p style="font-size: 0.7rem; margin: 0px; font-weight: 700;">メッセージ</p>
            </a>

        </div>
        <div class="footerItem">
            <a href="#">
                <i class="fa-solid fa-bell"></i>
                <p style="font-size: 0.7rem; margin: 0px; font-weight: 700;">通知</p>
            </a>
        </div>
        <div class="footerItem">
            <a href="#">
                <i class="fa-solid fa-circle-user"></i>
                <p style="font-size: 0.7rem; margin: 0px; font-weight: 700;">あなた</p>
            </a>
        </div>
    </div>

    <!-- Modal -->
    <div class="invitation-modal" id="invitation-modal">
        <div class="modal-content">
            <div class="modal-header">
                <button id="modalToggle" class="close-button" onclick="modalToggle('invitation-modal')">
                    <i class="fa-solid fa-xmark"></i>
                </button>
                <h3 class="modal-title">ユーザーIDを入力してフレンドを招待</h3>
            </div>
            <div class="modal-body invitation-body">
                <div class="invitation-form">
                    <form class="invitation-form" action="fn/invite" method="post">
                        <div class="invitation-wrapper">
                            <input class="invitation-input" type="text" name="userId" id="invitationInput">
                            <input id="inputServerId" type="hidden" name="serverId">
                            <input id="formUserId" type="hidden" name="id">
                            <button class="invitation-button" type="submit">送信</button>
                        </div>
                    </form>
                    <div id="invFriendList"></div>
                </div>
            </div>
        </div>
    </div>

    <!--video modal-->

    <div class="video_modal" id="video_modal">
        <div class="video_modal_content">
            <div class="video_modal_header">
                <button id="modalToggle" class="video-close-button" onclick="modalToggle('video_modal')">
                    <i class="fa-solid fa-angle-down" style="padding: 0;"></i>
                </button>
            </div>
            <div class="video_modal_body">
                <div class="video_play">
                    <div id="video-play-field" class="video-play-field">
                        <video id="local_video" class="video-element" autoplay></video>
                    </div>
                </div>
            </div>
            <!-- <div class="video-controller"> -->
				<div class="controller-wrapper draggable" id="draggableDiv" draggable="true">
					<button class="contoroller-item">
						<i class="fa-solid fa-video fa-sm"></i>
					</button>
					<button class="contoroller-item-phone-slash"
						onclick="closeVoiceChannel(); modalToggle('video_modal');">
						<i class="fa-solid fa-phone-slash fa-lg"></i>
					</button>
				</div>
			<!-- </div> -->

        </div>
    </div>

    <script src="./spjavascript/spPageOperations.js"></script>
    <script src="./spjavascript/spFetch.js"></script>
    <script src="./spjavascript/spmulti.js"></script>
</body>

</html>